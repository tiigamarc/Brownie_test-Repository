(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{159:function(e,t,n){e.exports=n(416)},164:function(e,t,n){},166:function(e,t,n){},176:function(e,t){},201:function(e,t){},203:function(e,t){},300:function(e,t){},344:function(e,t){},359:function(e,t){},360:function(e,t){},362:function(e,t){},415:function(e,t,n){var a={"./3/0x724771D9259Cb16a959152103c0D2630701aAeF3.json":[417,3],"./dev/0x724771D9259Cb16a959152103c0D2630701aAeF3.json":[418,4],"./map.json":[82]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id=415,e.exports=r},416:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n.n(a),c=n(158),o=n.n(c),s=(n(164),n(8)),u=n.n(s),i=n(17),l=n(1),p=n(2),f=n(5),d=n(6),h=(n(166),n(58)),m=n.n(h),v=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("complete"===document.readyState){e.next=5;break}return e.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:e.next=0;break;case 5:return e.abrupt("return",window.ethereum);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return(t=e.sent)?n=new m.a(t):window.web3?n=window.web3:(a=new m.a.providers.HttpProvider("http://127.0.0.1:8545"),n=new m.a(a)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=n(82),g=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={web3:null,accounts:null,chainid:null,simpleStorage:null,storageValue:0,storageInput:0,transactionHash:null},e.componentDidMount=Object(i.a)(u.a.mark((function t(){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:return n=t.sent,t.prev=3,t.next=6,v();case 6:t.sent.request({method:"eth_requestAccounts"}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),console.log("Could not enable accounts. \n            Interaction with contracts not available.\n            Use a modern browser with a Web3 plugin to fix this issue."),console.log(t.t0);case 14:return t.next=16,n.eth.getAccounts();case 16:return a=t.sent,t.t1=parseInt,t.next=20,n.eth.getChainId();case 20:return t.t2=t.sent,r=(0,t.t1)(t.t2),t.t3=e,t.t4={web3:n,accounts:a,chainid:r},t.next=26,e.loadInitialContracts;case 26:t.t5=t.sent,t.t3.setState.call(t.t3,t.t4,t.t5);case 28:case"end":return t.stop()}}),t,null,[[3,10]])}))),e.loadInitialContracts=Object(i.a)(u.a.mark((function t(){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=0,3===e.state.chainid&&(n=3),1337===e.state.chainid&&(n="dev"),t.next=5,e.loadContract(n,"SimpleStorage");case 5:if(a=t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,a.methods.get().call();case 10:r=t.sent,e.setState({simpleStorage:a,storageValue:r});case 12:case"end":return t.stop()}}),t)}))),e.loadContract=function(){var t=Object(i.a)(u.a.mark((function t(a,r){var c,o,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=e.state.web3,t.prev=1,o=w[a][r][0],t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(1),console.log('Could not find any deployed contract "'.concat(r,'" on the chain "').concat(a,'".')),t.abrupt("return",void 0);case 9:return t.prev=9,t.next=12,n(415)("./".concat(a,"/").concat(o,".json"));case 12:s=t.sent,t.next=19;break;case 15:return t.prev=15,t.t1=t.catch(9),console.log('Failed to load contract artifact "./artifacts/deployments/'.concat(a,"/").concat(o,'.json"')),t.abrupt("return",void 0);case 19:return t.abrupt("return",new c.eth.Contract(s.abi,o));case 20:case"end":return t.stop()}}),t,null,[[1,5],[9,15]])})));return function(e,n){return t.apply(this,arguments)}}(),e.changeStorage=function(){var t=Object(i.a)(u.a.mark((function t(n){var a,r,c,o,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,r=a.accounts,c=a.simpleStorage,o=a.storageInput,n.preventDefault(),s=parseInt(o),!isNaN(s)){t.next=6;break}return alert("invalid value"),t.abrupt("return");case 6:return t.next=8,c.methods.set(s).send({from:r[0]}).on("transactionHash",function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({transactionHash:n});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).on("receipt",Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,c.methods.get().call();case 3:t.t1=t.sent,t.t2={storageValue:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}}),t)}))));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.state,n=t.web3,a=t.accounts,c=t.simpleStorage,o=t.storageValue,s=t.storageInput,u=t.transactionHash;if(!n)return r.a.createElement("div",null,"Loading Web3, accounts, and contracts...");if(!c)return r.a.createElement("div",null,"Could not find a deployed contract. Check console for details.");var i=!!a&&a.length>0;return r.a.createElement("div",{className:"App"},i?null:r.a.createElement("p",null,r.a.createElement("strong",null,"Connect with Metamask and refresh the page to be able to edit the storage fields.")),r.a.createElement("h1",null,"Simple Storage"),r.a.createElement("div",null,"The current stored value is ",o,"."),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(t){return e.changeStorage(t)}},r.a.createElement("div",null,r.a.createElement("label",null,"Change the value to "),r.a.createElement("input",{name:"storageInput",type:"text",value:s,onChange:function(t){return e.setState({storageInput:t.target.value})}}),".",r.a.createElement("p",null,r.a.createElement("button",{type:"submit",disabled:!i},"Submit")))),r.a.createElement("br",null),u?r.a.createElement("div",null,r.a.createElement("p",null,"Last transaction Hash: ",u)):null)}}]),a}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e){e.exports=JSON.parse('{"3":{"SimpleStorage":["0x724771D9259Cb16a959152103c0D2630701aAeF3"]},"dev":{"SimpleStorage":["0x724771D9259Cb16a959152103c0D2630701aAeF3"]}}')}},[[159,1,2]]]);
//# sourceMappingURL=main.af42ea90.chunk.js.map